/*!
 * Emprise JavaScript Charts v3.0.0 http://www.ejschart.com/
 * Copyright (C) 2006-2018 Emprise Corporation. All Rights Reserved.
 *
 * WARNING: This software program is protected by copyright law
 * and international treaties. Unauthorized reproduction or
 * distribution of this program, or any portion of it, may result
 * in severe civil and criminal penalties, and will be prosecuted
 * to the maximum extent possible under the law.
 *
 * See http://www.ejschart.com/license.html for full license.
!*/

!function(){window.EJSC=window.EJSC||new function(){this.prepared=[],this.prepare=function(a){this.prepared.push(a)},this.__construct=function(){window.attachEvent?window.attachEvent("onload",this.load.bind(this)):window.addEventListener("load",this.load.bind(this),!0)},this.load=function(){this._.forEach(this.prepared,function(a){a.call(this)},this)},this.__construct()},EJSC._=window._||new function(){var a={};return a.capitalize=function(a){return a.substr(0,1).toUpperCase()+a.substr(1).toLowerCase()},a.clamp=function(b,c,d){return a.max([c,a.min([d,b])])},a.compact=function(b){return a.without(b,!1,null,0,"",void 0,NaN)},a.defaultTo=function(b,c){return!1===a.isUndefined(b)?b:c},a.filter=function(b,c){var d=b;return a.isArray(b)?(d=[],a.forEach(b,function(a,e){c(a,e,b)&&d.push(a)})):a.isObject(b)&&(d={},a.forEach(b,function(a,e){c(a,e,b)&&(d[e]=a)})),d},a.find=function(b,c){var d;return a.forEach(b,function(a,e){return!c(a,e,b)||(d=a,!1)}),d},a.forEach=function(b,c){if(a.isArray(b))for(var d=0;d<b.length&&!1!==c(b[d],d,b);d++);else if(a.isObject(b))for(var e in b)if(!1===c(b[e],e,b))break;return b},a.has=function(b,c){c=a.isString(c)?c.split("."):c;var d=b,e=!0;return a.forEach(c,function(a){return d[a]?(d=d[a],!0):(e=!1,!1)}),e},a.includes=function(b,c,d){d=d||0;var e=!1;return a.isString(b)?e=b.indexOf(c)>-1:a.isArray(b)?a.forEach(a.slice(b,d),function(a){a===c&&(e=!0)}):a.forEach(b,function(a){a===c&&(e=!0)}),e},a.isArguments=function(a){return a&&a.hasOwnProperty("callee")&&!a.propertyIsEnumerable("callee")},a.isArray=function(b){return b&&(b instanceof Array||a.isArguments(b))},a.isFunction=function(a){return a&&"[object Function]"==={}.toString.call(a)},a.isNil=function(b){return a.isNull(b)||a.isUndefined(b)},a.isNull=function(a){return null===a},a.isObject=function(a){return a&&("object"==typeof a||"function"==typeof a)},a.isObjectLike=function(a){return a&&"object"==typeof a},a.isPlainObject=function(a){return a&&a.constructor===Object},a.isString=function(a){return a&&"string"==typeof a},a.isUndefined=function(a){return void 0===a},a.map=function(b,c){var d=[];return a.forEach(b,function(a,e){d.push(c(a,e,b))}),d},a.max=function(b){var c=null;return a.forEach(b,function(b){(a.isNil(c)||c<b)&&(c=b)}),c},a.merge=function(b){return b=b||{},a.forEach(a.without(a.slice(arguments,1),null,void 0),function(c){a.forEach(c,function(c,d){a.isArray(c)?a.merge(b[d]=b[d]||[],c):a.isPlainObject(c)?a.merge(b[d]=b[d]||{},c):b[d]=a.isUndefined(c)?b[d]:c})}),b},a.min=function(b){var c=null;return a.forEach(b,function(b){(a.isNil(c)||c>b)&&(c=b)}),c},a.round=function(b,c){return c=a.defaultTo(c,0),Number(Math.round(b+"e"+c)+"e-"+c)},a.setOpacity=function(a,b){return a.replace(/^rgba?\(/,"rgba(").replace(/\)$/,","+b+")").replace(/\s/g,"").split(",").slice(0,3).join(",")+","+b+")"},a.slice=function(a,b,c){return a&&[].slice.call(a,b,c)},a.upperFirst=function(a){return a&&a.substr(0,1).toUpperCase()+a.substr(1)},a.without=function(b){var c=[],d=a.slice(arguments,1);return a.forEach(b,function(b){a.includes(d,b)||c.push(b)}),c},a},EJSC.$=window.$||new function(){var a=function(b){return a.fn.find.call({elements:[document]},b)};return a.fix=function(b){EJSC._.forEach(a.fn,function(a,c){b[c]=a.bind({elements:b})})},a.query=function(a,b){var c=[];if(a.querySelectorAll)c=EJSC._.slice(a.querySelectorAll(b));else{var d,e=b.split(","),f=document.createStyleSheet(),g=this.getElementsByTagName("*")||document.all;for(d=e.length;d--;)f.addRule(e[d],"k:v");for(d=g.length;d--;)g[d].currentStyle.k&&c.push(g[d]);for(d=e.length;d--;)f.removeRule(0)}return c},a.fn={find:function(b){var c=[];return b.nodeType?c=[b]:EJSC._.forEach(this.elements,function(d){c=c.concat(a.query(d,b))}),a.fix(c),c},on:function(a,b){EJSC._.forEach(this.elements,function(c){var d=c.attachEvent,e=d?"attachEvent":"addEventListener";EJSC._.forEach(a instanceof Array?a:[a],function(a){c[e]((d?"on":"")+a,b.bind(a),!0)})})}},a},EJSC.math={degreesToRadians:function(a){return a/180*Math.PI},distance:function(a,b){return Math.sqrt(Math.pow(Math.abs(b[0]-a[0]),2)+Math.pow(Math.abs(b[1]-a[1]),2))},radiansToDegrees:function(a){return a/Math.PI*180}},EJSC.Class=function(){var a=function(){},b=!1;return a.extend=function(c,d){!1===EJSC._.isArray(c)&&(d=c,c=[]);var e=this.prototype,f=function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}};b=!0;var g=new this;b=!1,c.length>0&&EJSC._.forEach(c,function(a){EJSC._.forEach(a,function(a,b){g[b]=EJSC._.isFunction(a)&&EJSC._.isFunction(e[b])?f(b,a):a})}),EJSC._.forEach(d,function(a,b){g[b]=EJSC._.isFunction(a)&&EJSC._.isFunction(e[b])?f(b,a):a});var h=function(){b||(EJSC._.forEach(this,function(a,b,c){EJSC._.isArray(a)?EJSC._.merge(c[b]=[],g[b]):EJSC._.isPlainObject(a)&&EJSC._.merge(c[b]={},g[b])}),this.__construct.apply(this,arguments))};return h.prototype=g,h.prototype.constructor=h,h.extend=a.extend,h},a.prototype.__construct=function(){},a.prototype.copyOptions=function(a){var b=this;EJSC._.forEach(a,function(a,c){var d=b["set"+EJSC._.upperFirst(c)];if(d)d.call(b,a,!1);else{var e={};e[c]=a,EJSC._.merge(b,e)}})},a}(),EJSC.Observable=EJSC.Class.extend({subscriptions:[],publish:function(){var a=EJSC._.slice(arguments);EJSC._.forEach(this.getSubscriptions(),function(b){b.apply(null,a)})},subscribe:function(a){return this.subscriptions.push(a),a.unsubscribe=this.unsubscribe.bind(this,a),a},unsubscribe:function(a){EJSC._.forEach(this.subscriptions,function(b,c,d){b===a&&delete d[c]})},getSubscriptions:function(){return EJSC._.compact(this.subscriptions)}}),EJSC.Drawing=EJSC.Class.extend({container:null,getContainer:function(){return this.container},setContainer:function(a,b){this.container=EJSC._.isString(a)?document.getElementById(a):a,EJSC._.has(this,"engine.element")&&this.container.appendChild(this.engine.element),!1!==b&&this.resize()},engine:null,lastPoint:[null,null],lastControlPoint:[null,null],path:[],arc:function(a,b,c,d,e,f){this.engine.arc(a,b,c,d,e,f);var g=a+c*Math.cos(e),h=b+c*Math.sin(e);return this.lastPoint=[g,h],this.lastControlPoint=[null,null],this},arcTo:function(a,b,c,d,e){this.engine.arcTo(a,b,c,d,e);var f=this.lastPoint[0],g=this.lastPoint[1],h=Math.PI/2-Math.atan2(b-g,a-f),i=Math.PI/2-Math.atan2(b-d,a-c),j=(h+i)/2,k=e/Math.sin(0-Math.abs(j-h)),l=Math.sqrt(k*k-e*e);return f=a-Math.sin(i)*l,g=b-Math.cos(i)*l,this.lastPoint=[f,g],this.lastControlPoint=[a,b],this},beginClip:function(a,b,c,d){return this.engine.beginClip(a,b,c,d),this},beginPath:function(){return this.engine.beginPath(),this.lastPoint=[null,null],this.lastControlPoint=[null,null],this},bezierCurveTo:function(a,b,c,d,e,f){return this.engine.bezierCurveTo(a,b,c,d,e,f),this.lastPoint=[e,f],this.lastControlPoint=[c,d],this},circle:function(a,b,c,d){return this.engine.circle(a,b,c,EJSC._.merge({},EJSC.Engine.defaults,d)),this},clear:function(){return this.engine.clear(),this},closePath:function(){return this.engine.closePath(),this},draw:function(a){return this.engine.draw(EJSC._.merge({},EJSC.Engine.defaults,a)),this},ellipse:function(a,b,c,d,e){return this.engine.ellipse(a,b,c,d,EJSC._.merge({},EJSC.Engine.defaults,e)),this},endClip:function(){return this.engine.endClip(),this},fill:function(a){return this.engine.fill(EJSC._.merge({},EJSC.Engine.defaults,a)),this},horizontalTo:function(a){return this.engine.horizontalTo(a),this.lastPoint[0]=a,this.lastControlPoint=[null,null],this},line:function(a,b,c,d,e){return this.engine.line(a,b,c,d,EJSC._.merge({},EJSC.Engine.defaults,e)),this},lineTo:function(a,b){return this.engine.lineTo(a,b),this.lastPoint=[a,b],this.lastControlPoint=[null,null],this},measureText:function(a,b){return this.engine.measureText(a,EJSC._.merge({},EJSC.Engine.defaults,b))},moveTo:function(a,b){return this.engine.moveTo(a,b),this.lastPoint=[a,b],this.lastControlPoint=[null,null],this},quadraticCurveTo:function(a,b,c,d){return this.engine.quadraticCurveTo(a,b,c,d),this.lastPoint=[c,d],this.lastControlPoint=[a,b],this},rect:function(a,b,c,d,e){return this.engine.rect(a,b,c,d,EJSC._.merge({},EJSC.Engine.defaults,e)),this},resize:function(a,b){this.engine.resize(a||this.container.clientWidth,b||this.container.clientHeight),this.draw()},smoothBezierCurveTo:function(a,b,c,d){var e=EJSC._.isNull(this.lastControlPoint[0])?null:2*this.lastPoint[0]-this.lastControlPoint[0],f=EJSC._.isNull(this.lastControlPoint[1])?null:2*this.lastPoint[1]-this.lastControlPoint[1];return EJSC._.isNull(e)||EJSC._.isNull(f)?this.quadraticCurveTo(a,b,c,d):this.bezierCurveTo(e,f,a,b,c,d),this},smoothQuadraticCurveTo:function(a,b){var c=EJSC._.isNull(this.lastControlPoint[0])?null:2*this.lastPoint[0]-this.lastControlPoint[0],d=EJSC._.isNull(this.lastControlPoint[1])?null:2*this.lastPoint[1]-this.lastControlPoint[1];return EJSC._.isNull(c)||EJSC._.isNull(d)?this.lineTo(a,b):this.quadraticCurveTo(c,d,a,b),this},stroke:function(a){return this.engine.stroke(EJSC._.merge({},EJSC.Engine.defaults,a)),this},text:function(a,b,c,d){return this.engine.text(a,b,c,EJSC._.merge({},EJSC.Engine.defaults,d)),this},verticalTo:function(a){return this.engine.verticalTo(a),this.lastPoint[1]=a,this.lastControlPoint=[null,null],this},__construct:function(a,b){b=EJSC._.merge(b,{container:a}),this.copyOptions(b),this.selectEngine(),this.resize()},selectEngine:function(){EJSC._.isNil(this.engine)&&(this.engine=new(EJSC._.find(EJSC.Drawing.engines,function(a){return a.isSupported()}))),this.engine.link(this)}}),EJSC.Drawing.defaults={fillStyle:"rgba(0, 0, 0)",font:"10px Verdana",lineCap:"butt",lineDash:[],lineJoin:"miter",strokeStyle:"rgb(0, 0, 0)",strokeOpacity:1,textAlign:"left",textBaseline:"middle",textRotation:0},EJSC.Drawing.engines={},EJSC.Drawing.register=function(a,b){EJSC.Drawing.engines[a]=b},EJSC.Engine=EJSC.Class.extend({drawing:null,element:null,arc:function(){},arcTo:function(){},beginClip:function(){},beginPath:function(){},bezierCurveTo:function(){},circle:function(){},clear:function(){},closePath:function(){},draw:function(){},ellipse:function(){},endClip:function(){},fill:function(){},horizontalTo:function(){},line:function(){},lineTo:function(){},measureText:function(){},moveTo:function(){},quadraticCurveTo:function(){},rect:function(){},resize:function(){},stroke:function(){},text:function(){},verticalTo:function(){},drawPath:function(){},link:function(a){this.drawing=a},stylize:function(){}}),EJSC.Canvas=EJSC.Engine.extend({ctx:null,arc:function(a,b,c,d,e,f){this.ctx.arc(a,b,c,d,e,f)},arcTo:function(a,b,c,d,e){this.ctx.arcTo(a,b,c,d,e)},beginClip:function(a,b,c,d){this.ctx.save(),this.ctx.rect(a,b,c,d),this.ctx.clip()},beginPath:function(){this.ctx.beginPath()},bezierCurveTo:function(a,b,c,d,e,f){this.ctx.bezierCurveTo(a,b,c,d,e,f)},circle:function(a,b,c,d){this.stylize(d),this.ctx.beginPath(),this.ctx.arc(a+.5,b+.5,c,0,2*Math.PI,!1),this.ctx.fill(),"none"!==d.strokeStyle&&this.ctx.stroke(),this.unstylize()},clear:function(){this.ctx.clearRect(0,0,this.element.offsetWidth,this.element.offsetWidth)},closePath:function(){this.ctx.closePath()},draw:function(a){this.stylize(a),this.ctx.fill(),"none"!==a.strokeStyle&&this.ctx.stroke(),this.unstylize()},ellipse:function(a,b,c,d,e){this.stylize(e);var f=d*(4/3);this.ctx.beginPath(),this.ctx.moveTo(a-c,b),this.ctx.bezierCurveTo(a-c,b-f,a+c,b-f,a+c,b),this.ctx.bezierCurveTo(a+c,b+f,a-c,b+f,a-c,b),this.ctx.closePath(),this.ctx.fill(),"none"!==e.strokeStyle&&this.ctx.stroke(),this.unstylize()},endClip:function(){this.ctx.restore()},fill:function(a){this.stylize(a),this.ctx.fill(),this.unstylize()},horizontalTo:function(a){var b;b=this.drawing.lastPoint[1],this.lineTo(a,b)},line:function(a,b,c,d,e){this.stylize(e),this.ctx.beginPath(),this.ctx.moveTo(a,b),this.ctx.lineTo(c,d),"none"!==e.strokeStyle&&this.ctx.stroke(),this.unstylize()},lineTo:function(a,b){this.ctx.lineTo(a,b)},measureText:function(a,b){this.stylize(b);var c=this.ctx.measureText(a);return this.unstylize(),c},moveTo:function(a,b){this.ctx.moveTo(a,b)},quadraticCurveTo:function(a,b,c,d){this.ctx.quadraticCurveTo(a,b,c,d)},rect:function(a,b,c,d,e){this.stylize(e),this.ctx.beginPath(),this.ctx.rect(a,b,c,d),this.ctx.fill(),"none"!==e.strokeStyle&&this.ctx.stroke(),this.unstylize()},resize:function(a,b){this.element.setAttribute("width",a),this.element.setAttribute("height",b)},stroke:function(a){this.stylize(a),"none"!==a.strokeStyle&&this.ctx.stroke(),this.unstylize()},text:function(a,b,c,d){this.stylize(d),d.textRotation?(this.ctx.save(),this.ctx.translate(b,c),this.ctx.rotate(d.textRotation*(Math.PI/180)),this.ctx.fillText(a,0,0),this.ctx.restore()):this.ctx.fillText(a,b,c)},verticalTo:function(a){this.lineTo(this.drawing.lastPoint[0],a)},__construct:function(){this.element=document.createElement("CANVAS"),this.ctx=this.element.getContext("2d")},drawPath:function(a){for(var b=0;b<a.length;b++)this[a[b][0]].apply(this,a[b][1])},stylize:function(a){EJSC._.merge(this.ctx,EJSC.Drawing.defaults,a),this.ctx.setLineDash((a||{}).lineDash||[])},unstylize:function(){EJSC._.merge(this.ctx,EJSC.Drawing.defaults),this.ctx.setLineDash([])}}),EJSC.Canvas.isSupported=function(){var a=document.createElement("canvas");return a.getContext&&a.getContext("2d")},EJSC.Drawing.register("Canvas",EJSC.Canvas),EJSC.SVG=EJSC.Engine.extend({background:null,clipId:null,clipIndex:0,definitions:null,path:[],arc:function(a,b,c,d,e,f){var g=a+c*Math.cos(d),h=b+c*Math.sin(d),i=a+c*Math.cos(e),j=b+c*Math.sin(e),k=d<e?0:1,l=f?1-k:k,m=f?0:1;this.path.push((EJSC._.isNull(this.drawing.lastPoint[0])?"M":"L")+" "+g+","+h),this.path.push("A "+c+","+c+" 0 "+l+" "+m+" "+i+","+j)},arcTo:function(a,b,c,d,e){var f=this.drawing.lastPoint[0],g=this.drawing.lastPoint[1],h=Math.PI/2-Math.atan2(b-g,a-f),i=Math.PI/2-Math.atan2(b-d,a-c),j=(h+i)/2,k=e/Math.sin(-Math.abs(j-h)),l=Math.sqrt(k*k-e*e),m=a+Math.sin(j)*k,n=b+Math.cos(j)*k,o=a-Math.sin(h)*l,p=b-Math.cos(h)*l,q=a-Math.sin(i)*l,r=b-Math.cos(i)*l,s=Math.atan2(p-n,o-m),t=Math.atan2(r-n,q-m);this[EJSC._.isNull(this.drawing.lastPoint[0])?"moveTo":"lineTo"](o,p),this.arc(m,n,e,s,t,h>i)},beginClip:function(a,b,c,d){var e="clip-"+this.clipIndex++;this.definitions.appendChild(this.createElement("clipPath",{id:e})).appendChild(this.createElement("rect",{x:a,y:b,width:c,height:d})),this.clipId=e},beginPath:function(){this.path=[]},bezierCurveTo:function(a,b,c,d,e,f){this.path.push("C "+a+","+b+" "+c+","+d+" "+e+","+f)},circle:function(a,b,c,d){this.element.appendChild(this.createElement("circle",EJSC._.merge(this.stylize(d),{cx:a,cy:b,r:c})))},clear:function(){for(;this.element.childNodes.length>2;)this.element.removeChild(this.element.lastChild);for(;this.definitions.childNodes.length>0;)this.definitions.removeChild(this.definitions.lastChild);this.clipId=null,this.clipIndex=0},closePath:function(){this.path.push("Z")},draw:function(a){this.drawPath(this.stylize(a))},ellipse:function(a,b,c,d,e){this.element.appendChild(this.createElement("ellipse",EJSC._.merge(this.stylize(e),{cx:a,cy:b,rx:c,ry:d})))},endClip:function(){this.clipId=null},fill:function(a){this.drawPath(EJSC._.merge(this.stylize(a),{strokeStyle:"transparent"}))},horizontalTo:function(a){this.path.push("H "+a)},line:function(a,b,c,d,e){this.element.appendChild(this.createElement("line",EJSC._.merge(this.stylize(e),{x1:a,y1:b,x2:c,y2:d})))},lineTo:function(a,b){this.path.push("L "+a+","+b)},measureText:function(a,b){return[a,b]},moveTo:function(a,b){this.path.push("M "+a+","+b)},quadraticCurveTo:function(a,b,c,d){this.path.push("Q "+a+","+b+" "+c+","+d)},rect:function(a,b,c,d,e){this.element.appendChild(this.createElement("rect",EJSC._.merge(this.stylize(e),{x:a,y:b,width:c,height:d})))},resize:function(a,b){this.element.setAttribute("width",a),this.element.setAttribute("height",b),this.element.setAttribute("viewBox","0 0 "+a+" "+b),this.background.setAttribute("width",a),this.background.setAttribute("height",b)},stroke:function(a){this.drawPath(EJSC._.merge(this.stylize(a),{fillStyle:"transparent"}))},text:function(a,b,c,d){d=EJSC._.merge({},this.stylize(d),{strokeStyle:"none",x:b,y:c});var e=this.element.appendChild(this.createElement("text",d));e.setAttribute("transform","rotate("+d.textRotation+" "+b+" "+c+")"),e.appendChild(document.createTextNode(a))},verticalTo:function(a){this.path.push("V "+a)},__construct:function(){var a=document.createDocumentFragment();this.element=a.appendChild(this.createElement("svg",{xmlns:EJSC.SVG.xmlns,version:"1.1"})),this.element.setAttributeNS(EJSC.SVG.xmlns,"xmlns:xlink",EJSC.SVG.xlink),this.definitions=this.element.appendChild(this.createElement("defs")),this.background=this.element.appendChild(this.createElement("rect",{x:0,y:0,fill:"transparent"})),EJSC.SVG.buildStylesheet()},createElement:function(a,b){var c=document.createElementNS(EJSC.SVG.svgns,a);for(var d in b)"css"===d?c.style.cssText=b[d]:"font"===d?c.style.cssText="font: "+b.font+" !important;":"textAlign"===d?c.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[b[d]]):"textRotation"===d||("textBaseline"===d?c.style.dominantBaseline={top:"hanging",middle:"middle",bottom:"baseline"}[b[d]]:b[d]===EJSC.Drawing.defaults[d]&&"strokeStyle"!==d&&"fillStyle"!==d||c.setAttribute(EJSC.SVG.styles[d]||d,b[d]));return null!==this.clipId&&c.setAttribute("clip-path","url(#"+this.clipId+")"),c},drawPath:function(a){this.element.appendChild(this.createElement("path",EJSC._.merge(this.stylize(a),{d:this.path.join(" ")})))},stylize:function(a){return EJSC._.merge({},EJSC.Drawing.defaults,a)}}),EJSC.SVG.css="svg { overflow: hidden; } svg, svg * { user-select: none; -moz-user-select: none; -webkit-user-select: none; }",EJSC.SVG.styles={fillStyle:"fill",font:"font",lineCap:"stroke-linecap",lineDash:"stroke-dasharray",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",strokeStyle:"stroke",textAlign:"text-align",textBaseline:"text-baseline",textRotation:"text-rotation"},EJSC.SVG.stylesheet=null,EJSC.SVG.svgns="http://www.w3.org/2000/svg",EJSC.SVG.xmlns="http://www.w3.org/2000/xmlns/",EJSC.SVG.xlink="http://www.w3.org/1999/xlink",EJSC.SVG.buildStylesheet=function(){if(EJSC._.isNull(EJSC.SVG.stylesheet)){var a=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",b.styleSheet?b.styleSheet.cssText=EJSC.SVG.css:b.appendChild(document.createTextNode(EJSC.SVG.css)),a.appendChild(b),EJSC.SVG.stylesheet=b}},EJSC.SVG.isSupported=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},EJSC.Drawing.register("SVG",EJSC.SVG),EJSC.sparkline.Chart=EJSC.Drawing.extend({background:"rgba(0, 0, 0, 0)",getBackground:function(){return this.background},setBackground:function(a,b){this.background=a,!1!==b&&this.update()},colors:["rgb(150, 184, 211)","rgb(205, 171, 66)","rgb(139, 167, 55)","rgb(204, 136, 92)","rgb(59, 144, 144)","rgb(181, 94, 94)","rgb(144, 100, 144)","rgb(109, 136, 79)","rgb(197, 190, 104)","rgb(59, 144, 187)","rgb(140, 48, 51)","rgb(151, 135, 169)","rgb(191, 132, 72)","rgb(206, 173, 136)","rgb(159, 153, 57)","rgb(209, 130, 139)","rgb(205, 197, 51)","rgb(55, 106, 155)","rgb(203, 143, 71)","rgb(178, 87, 56)","rgb(53, 115, 53)","rgb(120, 90, 59)"],getColors:function(){return this.colors},setColors:function(a,b){this.colors=a,!1!==b&&this.update()},title:"Emprise JavaScript Charts",getTitle:function(){return this.title},setTitle:function(a,b){this.title=a,!1!==b&&this.update()},series:[],getSeries:function(){return this.series},axisList:["axisBottom","axisLeft","axisRight","axisTop"],colorIndex:0,drawArea:{bottom:null,left:null,right:null,top:null},sidesList:["bottom","left","right","top"],addSeries:function(a,b){return a instanceof EJSC.sparkline.Series?(a.prepare(this,{color:this.getNextColor()}),this.series.push(a),!1!==b&&this.redraw(),a):null},redraw:function(){this.resetDrawArea(),this.clear(),this.drawBackground(),this.drawAxes(),this.drawSeries()},__construct:function(a,b){this._super(a,b),this.prepare(),this.redraw()},drawAxes:function(){var a=this;EJSC._.forEach(this.axisList,function(b){a[b].draw()})},drawBackground:function(){this.rect(0,0,this.drawArea.right,this.drawArea.bottom,{fillStyle:this.background,strokeStyle:"none"})},drawSeries:function(){this.beginClip(this.drawArea.left,this.drawArea.top,this.drawArea.right-this.drawArea.left,this.drawArea.bottom-this.drawArea.top),EJSC._.forEach(this.getVisibleSeries(),function(a){a.draw()}),this.endClip()},getNextColor:function(){var a=this.colors[this.colorIndex++];return this.colorIndex===this.colors.length&&(this.colorIndex=0),a},getVisibleSeries:function(){return EJSC._.filter(this.series,function(a){return a.isVisible()})},prepare:function(){this.prepareAxes()},prepareAxes:function(){var a=this;EJSC._.forEach(this.sidesList,function(b){var c="axis"+EJSC._.capitalize(b);a[c]instanceof EJSC.sparkline.Axis||(a[c]=new EJSC.sparkline.LinearAxis(a[c])),a[c].prepare(a,b)})},resetDrawArea:function(){this.drawArea={left:0,top:0,right:this.container.clientWidth,bottom:this.container.clientHeight}},update:function(){this.redraw()}}),EJSC.sparkline.Axis=EJSC.Class.extend({extremes:{max:null,min:null},getExtremes:function(){return this.extremes},setExtremes:function(a,b){this.update(this.extremes,a),!1!==b&&this.update()},padding:5,getPadding:function(){return this.padding},setPadding:function(a,b){this.padding=a,!1!==b&&this.update()},reverse:!1,getReverse:function(){return this.reverse},setReverse:function(a,b){this.reverse=a,!1!==b&&this.update()},visible:null,getVisible:function(){return this.visible},setVisible:function(a,b){this.visible=a,!1!==b&&this.update()},zoom:{min:null,max:null},getZoom:function(){return this.zoom},setZoom:function(a,b){this.update(this.zoom,a),!1!==b&&this.update()},chart:null,getChart:function(){return this.chart},drawArea:{bottom:null,left:null,right:null,top:null},orientation:null,scale:null,side:null,__construct:function(a){EJSC._.merge(this,a)},calculateDrawArea:function(){var a=this.chart,b=a.drawArea;EJSC._.merge(this.drawArea,b)},calculateExtremes:function(){},calculateScale:function(){var a=this.drawArea,b=this.extremes,c=this.orientation,d=this.zoom,e=d.min||b.min,f=d.max||b.max,g="vertical"===c?a.top:a.left,h="vertical"===c?a.bottom:a.right;this.scale=(f-e)/(h-g)},calculateTicks:function(){return[]},convertLinearToPoint:function(a){return a},convertPixelToPoint:function(a){return a},convertPointToLinear:function(a){return a},convertPointToPixel:function(a){return a},draw:function(){var a=this.chart,b=a.drawArea;b.bottom,a.axisBottom.getOffsetSize(),b.left,a.axisLeft.getOffsetSize(),b.right,a.axisRight.getOffsetSize(),b.top,a.axisTop.getOffsetSize();this.isVisible()&&(this.calculateDrawArea(),this.calculateExtremes(),this.calculateScale())},getCurrentZoom:function(a){var b=this.zoom,c=this.extremes,d=this.scale;return a=a||0,{min:(b.min||c.min)-a*d,max:(b.max||c.max)+a*d}},getOffsetSize:function(){return this.isVisible()?this.size:0},getVisibleSeries:function(){var a=this;return EJSC._.filter(this.chart.series,function(b){return"horizontal"===a.orientation&&b.xAxis===a.side&&b.isVisible()||"vertical"===a.orientation&&b.yAxis===a.side&&b.isVisible()})},hasVisibleSeries:function(){return this.getVisibleSeries().length>0},isVisible:function(){return EJSC._.isNil(this.visible)?this.hasVisibleSeries():this.visible},prepare:function(a,b){EJSC._.merge(this,{chart:a,side:b,orientation:EJSC.sparkline.Axis.orientations[b]}),EJSC._.isNil(this.size)&&(this.size=EJSC.sparkline.Axis.sizes[this.orientation])},update:function(){EJSC._.has(this,"chart.redraw")&&this.chart.redraw()}}),EJSC.sparkline.Axis.orientations={bottom:"horizontal",left:"vertical",right:"vertical",top:"horizontal"},EJSC.sparkline.Axis.sizes={horizontal:45,vertical:70},EJSC.sparkline.LinearAxis=EJSC.Axis.extend({calculateExtremes:function(){var a,b=this.drawArea,c=this.orientation,d=this.padding,e=this.extremes,f=this.getVisibleSeries(),g="vertical"===c?"y":"x",h=0,i=null,j=null;if(EJSC._.merge(e,{min:null,max:null}),!(f.length<=0)){switch(EJSC._.forEach(f,function(a){EJSC._.forEach(a.data,function(b){EJSC._.forEach(a.dataPoints[g],function(a){i=EJSC._.min([i,b[a]]),j=EJSC._.max([j,b[a]])})}),h=EJSC._.max([h,a.calculateSpacing()])}),d+=h-1,c){case"horizontal":a=(j-i)/(b.right-b.left-2*d);break;case"vertical":a=(j-i)/(b.bottom-b.top-2*d)}EJSC._.merge(e,{min:i-a*d,max:j+a*d})}},calculateTicks:function(){var a,b,c,d=this.getCurrentZoom(),e=d.min,f=d.max,g=f-e,h=Math.pow(10,Math.floor(Math.log10(g))),i=[];for(a=g/h>=3?h:g/(h/2)>=3?h/2:h/5,b=Math.ceil(e/a)*a,c=b;c<=f;c+=a)i.push(c);return i},convertPixelToPoint:function(a){var b,c,d,e,f=this.drawArea,g=this.getCurrentZoom(),h=g.min,i=g.max,j=i-h,k=null;if(null!==h&&null!==i)switch(this.orientation){case"horizontal":b=f.left,c=f.right-1,d=c-b,e=(a-b)/d,k=!1===this.reverse?h+j*e:i-j*e;break;case"vertical":b=f.top,c=f.bottom-1,d=c-b,e=(a-b)/d,k=!1===this.reverse?i-j*e:h+j*e}return k},convertPointToPixel:function(a){var b,c,d,e=this.drawArea,f=this.getCurrentZoom(),g=f.min,h=f.max,i=(a-g)/(h-g),j=null;if(null!==g&&null!==h)switch(this.orientation){case"horizontal":b=e.left,c=e.right-1,d=c-b,j=!1===this.reverse?b+d*i:c-d*i;break;case"vertical":b=e.top,c=e.bottom-1,d=c-b,j=!1===this.reverse?c-d*i:b+d*i}return j}}),EJSC.sparkline.LogarithmicAxis=EJSC.Axis.extend({base:10,getBase:function(){return this.base},setBase:function(a,b){this.base=a,!1!==b&&this.update()},logPoints:{maxPositive:null,minPositive:null,zeroValue:null,maxNegative:null,minNegative:null},calculateExtremes:function(){var a,b=this.drawArea,c=this.orientation,d=this.padding,e=this.extremes,f=this.logPoints,g=this.getVisibleSeries(),h="vertical"===c?"y":"x",i=0,j=null,k=null,l=null,m=null,n=null,o=null,p=null;if(EJSC._.merge(e,{min:null,max:null}),EJSC._.merge(f,{maxPositive:null,minPositive:null,zeroValue:null,maxNegative:null,minNegative:null}),!(g.length<=0)){EJSC._.forEach(g,function(a){EJSC._.forEach(a.data,function(b){EJSC._.forEach(a.dataPoints[h],function(a){j=EJSC._.min([j,b[a]]),k=EJSC._.max([k,b[a]]),b[a]>0?(l=EJSC._.max([l,b[a]]),m=EJSC._.min([m,b[a]])):0===b[a]?n=0:b[a]<0&&(o=EJSC._.max([o,b[a]]),p=EJSC._.min([p,b[a]]))})}),i=EJSC._.max([i,a.calculateSpacing()])}),EJSC._.isNil(n)&&(EJSC._.isNil(m)||EJSC._.isNil(o))||(n=0,m=this.convertPowerToPoint(Math.floor(this.convertPointToPower(m))),o=-this.convertPowerToPoint(Math.floor(this.convertPointToPower(-o)))),EJSC._.merge(f,{maxPositive:l,minPositive:m,zeroValue:n,maxNegative:o,minNegative:p}),d+=i-1;var q=this.convertPointToLinear(j),r=this.convertPointToLinear(k);switch(c){case"horizontal":a=(r-q)/(b.right-b.left-2*d);break;case"vertical":a=(r-q)/(b.bottom-b.top-2*d)}j=this.convertLinearToPoint(q-a*d),k=this.convertLinearToPoint(r+a*d),EJSC._.merge(e,{min:j,max:k})}},calculateTicks:function(){var a,b=this.getCurrentZoom(),c=this.convertPointToLinear(b.min),d=this.convertPointToLinear(b.max),e=[];for(a=Math.ceil(c);a<=Math.floor(d);a++)e.push(this.convertLinearToPoint(a));return e},convertLinearToPoint:function(a){var b,c=this.logPoints,d=c.minPositive,e=c.maxNegative;return 0===a?b=0:a>0&&a<1||a<0&&a>-1||(a>=1?b=this.convertPowerToPoint(a-1+this.convertPointToPower(d)):a<=-1&&(b=-this.convertPowerToPoint(-a-1+this.convertPointToPower(-e)))),b},convertPixelToPoint:function(a){var b,c,d,e,f=this.drawArea,g=this.getCurrentZoom(),h=this.convertPointToLinear(g.min),i=this.convertPointToLinear(g.max),j=i-h,k=null;if(null!==h&&null!==i)switch(this.orientation){case"horizontal":b=f.left,c=f.right-1,d=c-b,e=(a-b)/d,k=!1===this.reverse?this.convertLinearToPoint(h+j*e):this.convertLinearToPoint(i-j*e);break;case"vertical":b=f.top,c=f.bottom-1,d=c-b,e=(a-b)/d,k=!1===this.reverse?this.convertLinearToPoint(i-j*e):this.convertLinearToPoint(h+j*e)}return k},convertPointToLinear:function(a){var b,c=this.logPoints,d=c.minPositive,e=c.maxNegative;return 0===a?b=0:a>0&&a<d||a<0&&a>e||(a>=d?b=this.convertPointToPower(a)-this.convertPointToPower(d)+1:a<=e&&(b=-(this.convertPointToPower(-a)-this.convertPointToPower(-e)+1))),b},convertPointToPixel:function(a){var b,c,d,e=this.drawArea,f=this.getCurrentZoom(),g=this.convertPointToLinear(f.min),h=this.convertPointToLinear(f.max),i=(this.convertPointToLinear(a)-g)/(h-g),j=null;if(null!==g&&null!==h)switch(this.orientation){case"horizontal":b=e.left,c=e.right-1,d=c-b,j=!1===this.reverse?b+d*i:c-d*i;break;case"vertical":b=e.top,c=e.bottom-1,d=c-b,j=!1===this.reverse?c-d*i:b+d*i}return j},convertPointToPower:function(a){return Math.log(a)/Math.log(this.base)},convertPowerToPoint:function(a){return Math.pow(this.base,a)}}),EJSC.sparkline.Series=EJSC.Class.extend({color:null,getColor:function(){return this.color},setColor:function(a,b){this.color=a,!1!==b&&this.update()},title:null,getTitle:function(){return this.title},setTitle:function(a,b){this.title=a,!1!==b&&this.update()},visible:!0,getVisible:function(){return this.visible},setVisible:function(a,b){this.visible=a,!1!==b&&this.update()},chart:null,__construct:function(a){EJSC._.merge(this,a),this.title=null===this.title?"Series":this.title},draw:function(){},isVisible:function(){return this.visible},prepare:function(a,b){this.chart=a,EJSC._.merge(this,b)},update:function(){EJSC._.has(this,"chart.redraw")&&this.chart.redraw()}}),EJSC.sparkline.DataSeries=EJSC.Class.extend({data:[],__construct:function(a){this.data=a}}),EJSC.sparkline.PlotSeries=EJSC.sparkline.Series.extend({xAxis:"bottom",getXAxis:function(){return this.xAxis},setXAxis:function(a,b){this.xAxis=a,!1!==b&&this.update()},yAxis:"left",getYAxis:function(){return this.yAxis},setYAxis:function(a,b){this.yAxis=a,!1!==b&&this.update()},calculateExtremes:function(){return{xMin:null,xMax:null,yMin:null,yMax:null}},getVisiblePoints:function(){var a=this;return EJSC._.filter(a.data,function(b){return a.isPointVisible(b)})},referenceXAxis:function(){return this.chart["axis"+EJSC._.capitalize(this.xAxis)]},referenceYAxis:function(){return this.chart["axis"+EJSC._.capitalize(this.yAxis)]}}),EJSC.sparkline.XYSeries=EJSC.sparkline.PlotSeries.extend([EJSC.sparkline.DataSeries],{dataPoints:{x:["x"],y:["y"]},__construct:function(a,b){this._super(b),EJSC.DataSeries.prototype.__construct.call(this,a)}}),EJSC.sparkline.ScatterSeries=EJSC.sparkline.XYSeries.extend({points:{shape:"circle",size:5,style:{fillStyle:null,lineWidth:2,strokeStyle:null},visible:!1},getPoints:function(){return this.points},setPoints:function(a,b){EJSC._.merge(this.points,a),!1!==b&&this.update()},calculateExtremes:function(){var a={xMin:null,xMax:null,yMin:null,yMax:null};return EJSC._.forEach(this.data,function(b){EJSC._.merge(a,{xMin:EJSC._.min([a.xMin,b.x]),xMax:EJSC._.max([a.xMax,b.x]),yMin:EJSC._.min([a.yMin,b.y]),yMax:EJSC._.max([a.yMax,b.y])})}),a},calculateSpacing:function(){var a=this.points;return Math.ceil(a.size+a.style.lineWidth/2)},draw:function(){var a=this.chart,b=this.referenceXAxis(),c=this.referenceYAxis(),d=this.points,e=this.color,f=EJSC._.merge({},d.style),g=d.size;f.fillStyle=f.fillStyle||EJSC._.setOpacity(e,.5),f.strokeStyle=f.strokeStyle||e,EJSC._.forEach(this.getVisiblePoints(),function(e){var h=b.convertPointToPixel(e.x)+.5,i=c.convertPointToPixel(e.y)+.5;switch(d.shape){case"box":a.rect(h-g,i-g,2*g,2*g,f);break;case"circle":a.circle(h,i,g,f);break;case"diamond":a.beginPath(),a.moveTo(h,i-g),a.lineTo(h-g,i),a.lineTo(h,i+g),a.lineTo(h+g,i),a.lineTo(h,i-g),a.draw(f);break;case"triangle":a.beginPath(),a.moveTo(h,i-g),a.lineTo(h-g,i+g),a.lineTo(h+g,i+g),a.lineTo(h,i-g),a.draw(f)}})},isPointVisible:function(a){var b=this.calculateSpacing(),c=this.referenceXAxis().getCurrentZoom(b),d=this.referenceYAxis().getCurrentZoom(b);return!1===EJSC._.isNil(a.x)&&!1===EJSC._.isNil(a.y)&&a.x>=c.min&&a.x<=c.max&&a.y>=d.min&&a.y<=d.max}}),EJSC.sparkline.LineSeries=EJSC.sparkline.ScatterSeries.extend({line:{lineWidth:1,strokeStyle:null},getLine:function(){return this.line},setLine:function(a,b){EJSC._.merge(this.line,a),!1!==b&&this.update()},step:!1,getStep:function(){return this.step},setStep:function(a,b){
this.step=a,!1!==b&&this.update()},buildPath:function(){var a=this.step,b=[];return EJSC._.forEach(this.data,function(c,d){d>0&&a&&b.push({x:c.x,y:b[b.length-1].y}),b.push({x:c.x,y:c.y})}),b},calculateSpacing:function(){var a=this.points.visible?this._super.apply(this,arguments):0,b=Math.ceil(this.line.width/2);return EJSC._.max([a,b])},draw:function(){var a=this.chart,b=this.referenceXAxis(),c=this.referenceYAxis(),d=this.buildPath();a.beginPath(),EJSC._.forEach(d,function(d,e){a[0===e?"moveTo":"lineTo"](b.convertPointToPixel(d.x),c.convertPointToPixel(d.y))}),a.stroke(EJSC._.merge({},this.line,{strokeStyle:this.line.strokeStyle||this.color})),!0===this.points.visible&&this._super.apply(this,arguments)}}),EJSC.sparkline.AreaSeries=EJSC.sparkline.LineSeries.extend({area:{fillStyle:null},getArea:function(){return this.area},setArea:function(a,b){EJSC._.merge(this.area,a),!1!==b&&this.update()},zeroCoordinate:0,getZeroCoordinate:function(){return this.zeroCoordinate},setZeroCoordinate:function(a,b){this.zeroCoordinate=a,!1!==b&&this.update()},calculateExtremes:function(){var a=this.point.calculateExtremes(this.handler.data),b=this.zeroCoordinate;return a.yMin=EJSC._.min([a.yMin,b]),a.yMax=EJSC._.max([a.yMax,b]),a},draw:function(){var a=this.chart,b=this.referenceXAxis(),c=this.referenceYAxis(),d=c.getCurrentZoom(),e=c.convertPointToPixel(EJSC._.clamp(this.zeroCoordinate,d.min,d.max)),f=this.buildPath();a.beginPath(),EJSC._.forEach(f,function(d,e){a[0===e?"moveTo":"lineTo"](b.convertPointToPixel(d.x),c.convertPointToPixel(d.y))}),EJSC._.forEach(f.reverse(),function(c){a.lineTo(b.convertPointToPixel(c.x),e)}),a.closePath(),a.fill(EJSC._.merge({},this.area,{fillStyle:this.area.fillStyle||EJSC._.setOpacity(this.color,.5)})),this._super.apply(this,arguments)}}),EJSC.sparkline.BarSeries=EJSC.sparkline.ScatterSeries.extend({bar:{size:.8,style:{fillStyle:null,lineWidth:1,strokeStyle:null}},getBar:function(){return this.bar},setBar:function(a,b){EJSC._.merge(this.bar,a),!1!==b&&this.update()},zeroCoordinate:0,getZeroCoordinate:function(){return this.zeroCoordinate},setZeroCoordinate:function(a,b){this.zeroCoordinate=a,!1!==b&&this.update()},calculateBarPoints:function(a){var b=this.calculateBarSize(),c=this.zeroCoordinate;return{xMax:a.x+b/2,xMin:a.x-b/2,yMax:EJSC._.max([a.y,c]),yMin:EJSC._.min([a.y,c])}},calculateBarPixels:function(a){var b,c=this.referenceXAxis(),d=this.referenceYAxis(),e=this.getSpacing(),f=c.getCurrentZoom(e),g=d.getCurrentZoom(e),h=this.calculateBarPoints(a),i={xMax:c.convertPointToPixel(EJSC._.min([h.xMax,f.max])),xMin:c.convertPointToPixel(EJSC._.max([h.xMin,f.min])),yMax:d.convertPointToPixel(EJSC._.min([h.yMax,g.max])),yMin:d.convertPointToPixel(EJSC._.max([h.yMin,g.min]))};return i.xMax<i.xMin&&(b=i.xMax,i.xMax=i.xMin,i.xMin=b),i.yMax<i.yMin&&(b=i.yMax,i.yMax=i.yMin,i.yMin=b),i},calculateBarSize:function(){var a=this.data,b=[],c=1;return a.length>1&&(EJSC._.forEach(a,function(a){b.push(a.x)}),b.sort(),EJSC._.forEach(b,function(a,d){c=0===d?null:EJSC._.min([c,a-b[d-1]])})),c*this.bar.size},calculateExtremes:function(){var a=this._super(),b=this.calculateBarSize(),c=this.zeroCoordinate;return a.yMin=EJSC._.min([a.yMin,c]),a.yMax=EJSC._.max([a.yMax,c]),a.xMin-=b/2,a.xMax+=b/2,a},draw:function(){var a=this,b=this.chart,c=this.color,d=this.bar,e=EJSC._.merge({},d,{fillStyle:d.fillStyle||EJSC._.setOpacity(c,.5),strokeStyle:d.strokeStyle||c});EJSC._.forEach(this.getVisiblePoints(),function(c){var d=a.calculateBarPixels(c);b.rect(Math.round(d.xMin)+.5,Math.round(d.yMin)+.5,Math.round(d.xMax-d.xMin),Math.round(d.yMax-d.yMin),e)}),!0===this.points.visible&&this._super.apply(this,arguments)},getSpacing:function(){var a=this.points.visible?this._super.apply(this,arguments):0,b=Math.ceil(this.bar.lineWidth/2);return EJSC._.max([a,b])},isPointInRange:function(a,b){var c=this.chart,d=c.getChartPixels(b),e=d.x,f=d.y,g=this.getSpacing(),h=this.calculateBarPixels(a),i=e>=h.xMin-g-5&&e<=h.xMax+g+5&&f>=h.yMin-g-5&&f<=h.yMax+g+5,j=!!this.points.visible&&this._super.apply(this,arguments);return i||j},isPointVisible:function(a){var b=this.referenceXAxis(),c=this.referenceYAxis(),d=this.getSpacing(),e=b.getCurrentZoom(d),f=c.getCurrentZoom(d),g=this.calculateBarPoints(a),h=!1===EJSC._.isNil(a.x)&&!1===EJSC._.isNil(a.y)&&g.xMax>=e.min&&g.xMin<=e.max&&g.yMax>=f.min&&g.yMin<=f.max,i=!!this.points.visible&&this._super.apply(this,arguments);return h||i}})}();